<!DOCTYPE html>
<html>
<head>
    <title>Quadro de Donativos</title>
    <style>
        body {
            background: url(src\assets\caixa-de-comida-1.jpg) no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

    <!-- Adicione links para arquivos CSS, scripts, etc., conforme necessário -->
</head>
<body>
    
    <div class="coluna-esquerda">
        <button id="btnQueroDoar" class="btn-azul-claro">Quero Doar...</button>
        <button id="btnPrecisoDe" class="btn-verde-claro">Preciso de...</button>
        <button id="btnRemoverAviso" class="btn-laranja">Remover Aviso</button>
    </div>

    <!-- Botões para criar mensagens -->
    <button id="btnBlue" style="background-color: #0074d9;">Quero Doar...</button>
    <button id="btnGreen" style="background-color: #2ecc71;">Preciso de ...</button>
    <button id="btnRemove" style="background-color: #ff851b;">Remover Aviso</button>

    <!-- Caixa de texto para criar mensagens -->
    <textarea id="messageText" rows="10" cols="50" style="display: none;"></textarea>

    <!-- Quadro de Donativos -->
    <div id="quadroDonativos">
        <div id="quadroGreen" style="float: left; width: 50%; background-color: #2ecc71;">
            <h2>Quadro de Donativos (Verde)</h2>
        </div>
        <div id="quadroBlue" style="float: left; width: 50%; background-color: #0074d9;">
            <h2>Quadro de Donativos (Azul)</h2>
        </div>
    </div>

    <script>
        const sqlite3 = require('sqlite3').verbose();
        const dbBlue = new sqlite3.Database('blue.db');
        const dbGreen = new sqlite3.Database('green.db');

        // Função para salvar uma mensagem no banco de dados "blue.db"
        function saveToBlueDatabase(message) {
        dbBlue.serialize(() => {
        dbBlue.run('CREATE TABLE IF NOT EXISTS messages (message TEXT)');
        const stmt = dbBlue.prepare('INSERT INTO messages VALUES (?)');
        stmt.run(message);
        stmt.finalize();
        });
        }

        // Função para salvar uma mensagem no banco de dados "green.db"
        function saveToGreenDatabase(message) {
        dbGreen.serialize(() => {
        dbGreen.run('CREATE TABLE IF NOT EXISTS messages (message TEXT)');
        const stmt = dbGreen.prepare('INSERT INTO messages VALUES (?)');
        stmt.run(message);
        stmt.finalize();
        });
        }

        // Exemplo de como usar as funções
        const blueMessage = 'Esta é uma mensagem azul.';
        const greenMessage = 'Esta é uma mensagem verde.';

        saveToBlueDatabase(blueMessage);
        saveToGreenDatabase(greenMessage);

        // Fechar os bancos de dados após a conclusão
        dbBlue.close();
        dbGreen.close();
    </script>

    <script>
        // Event listener para os botões
        document.getElementById("btnBlue").addEventListener("click", function () {
            // Exibir a caixa de texto
            document.getElementById("messageText").style.display = "block";
        });

        document.getElementById("btnGreen").addEventListener("click", function () {
            // Exibir a caixa de texto
            document.getElementById("messageText").style.display = "block";
        });

        document.getElementById("btnRemove").addEventListener("click", function () {
            // Remover a própria mensagem do quadro
            document.getElementById("messageText").style.display = "none";
            document.getElementById("messageText").value = '';
        });
    </script>

    <script>
        function showTextarea(color) {
            var message = prompt(`Digite sua mensagem (máximo de 5000 caracteres) para ${color}.`);
            if (message) {
                // Envie a mensagem para o servidor para salvar no banco de dados apropriado (blue ou green)
                fetch(`/saveTo${color}Database`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ message, userName: "Seu Nome", userEmail: "seu@email.com" }),
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // A mensagem foi salva com sucesso
                            alert('Mensagem salva com sucesso.');
                        } else {
                            alert('Ocorreu um erro ao salvar a mensagem.');
                        }
                    });
            }
        }

        function removeOwnMessage() {
            var confirmation = confirm("Tem certeza de que deseja remover sua mensagem?");
            if (confirmation) {
                // Envie uma solicitação ao servidor para remover a mensagem
                // Você precisará implementar esta lógica no "app.js"
                // Será algo como /removeMessage/:messageId
            }
        }
    </script>
    
    <script>
        // Event listener para salvar mensagens no banco de dados ao clicar em um dos botões
        document.getElementById("btnBlue").addEventListener("click", function () {
            var messageText = document.getElementById("messageText").value;
            if (messageText) {
                // Substitua por uma função que salve no banco de dados "blue.db"
                saveToBlueDatabase(messageText);
            }
        });

        document.getElementById("btnGreen").addEventListener("click", function () {
            var messageText = document.getElementById("messageText").value;
            if (messageText) {
                // Substitua por uma função que salve no banco de dados "green.db"
                saveToGreenDatabase(messageText);
            }
        });

        function saveToBlueDatabase(message) {
            // Substitua por código para salvar no banco de dados "blue.db"
            console.log("Salvando mensagem azul: " + message);
            // Implemente a lógica de salvamento no banco de dados "blue.db" aqui
            // Você pode usar JavaScript e Node.js para se comunicar com o banco de dados SQLite.
        }

        function saveToGreenDatabase(message) {
            // Substitua por código para salvar no banco de dados "green.db"
            console.log("Salvando mensagem verde: " + message);
            // Implemente a lógica de salvamento no banco de dados "green.db" aqui
            // Você pode usar JavaScript e Node.js para se comunicar com o banco de dados SQLite.
        }
    </script>
</body>
</html>